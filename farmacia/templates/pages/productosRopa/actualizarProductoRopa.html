{% extends "../../layouts/LayoutAdmin.html" %}
{% load static %}
{% block title %}Actualizar Producto de Ropa{% endblock %}
{% block content %}
    <div class='dark:bg-secondary-100 p-8 rounded-xl shadow-2xl'>
      <h1 class='text-xl text-gray-600 font-bold'> Actualizar Producto de Ropa</h1>
      <hr class='my-8 border-gray-500/30' />

      <form onSubmit="" encType='multipart/form-data' action="" method="post"> 
         {% csrf_token %}
        <div class='flex items-center mb-8'>
          <div class='w-1/4'>
            <p>Avatar</p>
          </div>
          <div class='flex-1'>
            <div class='relative mb-2'>
              <img
                id="preview"
                src="{% static 'productos/' %}{{ productoRopa.rutafoto }}?v={{ productoRopa.updated_at.timestamp }}"
                alt="Imagen_Producto"
                class='w-28 h-28 object-cover rounded-lg' />
                <label for="avatar" class=" bg-gray-100 absolute p-1 rounded-full hover:cursor-pointer hover:bg-gray-200 -top-2 left-24">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125" />
                    </svg>
                </label>
                <input type="file" name="rutaFoto" id="avatar" class="hidden" accept="image/*">
            </div>
          </div>
        </div>

        <div class='flex items-center mb-8'>
          <div class='w-1/4'>
            <p>Nombre <span class='text-red-600'>*</span></p>
          </div>
          <div class='flex-1 flex items-center gap-4'>
            <div class='w-full'>
              <input type="text" value="{{productoRopa.nombre}}" name="nombre" required class='w-full py-2 px-4 outline-none rounded-lg dark:bg-secondary-900 bg-gray-300' placeholder='Nombre' />
            </div>
            <div class="w-full">
              <input type="text" value="{{productoRopa.codigobarraropa}}" name="codigoBarraRopa" class='w-full py-2 px-4 outline-none rounded-lg dark:bg-secondary-900 bg-gray-300' placeholder='Código de Barras' />
            </div>
          </div>
        </div>


        <div class='flex items-center mb-8'>
          <div class='w-1/4'>
            <p>Descripción <span class='text-red-600'>*</span></p>
          </div>
          <div class='flex-1 flex items-center gap-4'>
            <textarea name="descripcion" type="text" class='w-full py-2 px-4 outline-none rounded-lg dark:bg-secondary-900 bg-gray-300 ' placeholder='Descripción'>{{productoRopa.descripcion}}</textarea>
          </div>
        </div>

        <div class='flex items-center mb-8'>
          <div class='w-1/4'>
            <p>Categoría <span class='text-red-600'>*</span></p>
          </div>
          <div class='flex-1 flex items-center gap-4'>
            <select name="categoriaRopaId" required class='w-full py-2 px-4 outline-none rounded-lg dark:bg-secondary-900 bg-gray-300'>   
                {% for categoriaRopa in categoriasRopa %}
                    <option value="{{ categoriaRopa.categoriaropaid }}" {% if categoriaRopa.categoriaropaid == productoRopa.categoriaropaid_id %}selected{% endif %}>
                        {{ categoriaRopa.categoriaropaid }} - {{ categoriaRopa.nombre }}
                    </option>
                {% endfor %}
            </select>
          </div>
        </div>

        <div class='flex items-center mb-8'>
          <div class='w-1/4'>
            <p>Talla <span class='text-red-600'>*</span></p>
          </div>
          <div class='flex-1 flex items-center gap-4'>
            <select name="talla" class='w-full py-2 px-4 outline-none rounded-lg dark:bg-secondary-900 bg-gray-300'>
                <option value="{{ productoRopa.talla }}" selected>{{ productoRopa.talla }}</option>
                <option value="XS">XS</option>
                <option value="S">S</option>
                <option value="M">M</option>
                <option value="L">L</option>
                <option value="XL">XL</option>
                <option value="XXL">XXL</option>
                <option value="XXXL">XXXL</option>
                <option value="Otro">Otro</option>
                
              </select>
          </div>
        </div>

        <div class='flex items-center mb-8'>
          <div class='w-1/4'>
            <p>Precio <span class='text-red-600'>*</span></p>
          </div>
          <div class='flex-1 flex items-center gap-4'>
            <input type="number" value="{{ productoRopa.precio }}" name="precio" required class='w-full py-2 px-4 outline-none rounded-lg dark:bg-secondary-900 bg-gray-300 ' placeholder='Precio' />
          </div>
        </div>

        <hr class='my-8 border-gray-500/30' />

        <div class='flex justify-end gap-4'>
          <button type="submit" class='bg-orange-500 text-white py-2 cursor-pointer px-4 rounded-lg hover:bg-orange-600 transition-colors'>Guardar</button>
          <a href="{% url 'listar_ropa' %}" class='bg-red-500 text-white py-2 cursor-pointer px-4 rounded-lg hover:bg-red-600 transition-colors'>Cancelar</a>
        </div>
      </form>
    </div>

{% endblock %}

{% block scripts %}
<script src="{% static "js/imagen.js" %}"></script>
{% endblock %}